/*!
JQuery Simple Menu Plugin - 0.5.1
Copyright Â© 2017 Monastyrev Ivan
Licensed under the MIT license.
https://github.com/ikloster03/jquery-simple-menu/blob/master/LICENSE
*/
!function(i){"use strict";function e(e,t,s){this.config=i.extend({},n,t),this.element=e,this.Waypoint=s,this.init()}var n={menuSpeedAnimate:600,pageNavigationSpeedAnimate:1500,btnClassMenu:"btn-menu",stickyMenu:!1,stickyMenuClassName:"fixed",slidingLine:!1,slidingLineClassName:"sliding-line",slidingLineClassNameActive:"active",slidingLineColor:"#ffffff",slidingLineHeight:"3px",slidingLineSpeedAnimate:200,winMobWidth:500,trackedClassName:"tracked"};e.prototype.init=function(){var i=this.config;this.getClasses(),this.simpleMenu(),this.simpleMenuStyles(),i.stickyMenu&&this.stickyMenu(),i.slidingLine&&this.slidingLine()},e.prototype.tools={getMaxOfArray:function(i){return Math.max.apply(null,i)},getKeyByValue:function(i,e){for(var n in i)if(i.hasOwnProperty(n)&&i[n]===e)return n}},e.prototype.getClasses=function(){function i(i){return"."+i}var e=this.config;this.btnClassMenu=i(e.btnClassMenu),this.slidingLineClassName=i(e.slidingLineClassName),this.slidingLineClassNameActive=i(e.slidingLineClassNameActive),this.trackedClassName=i(e.trackedClassName)},e.prototype.simpleMenuStyles=function(){function e(){s.width()<n.config.winMobWidth?(t.find("ul").css({position:"absolute",width:"100%"}),t.find("li").css({display:"block"}),t.find(n.btnClassMenu).css({display:"block","text-decoration":"none"})):(t.find("ul").css({width:"100%"}),t.find("li").css({display:"inline-block"}),t.find(n.btnClassMenu).css({display:"none"}))}var n=this,t=this.element,s=i(window);t.css({display:"block",position:"relative",width:"100%"}),t.find("ul a").css({cursor:"pointer",display:"block","text-decoration":"none"}),e(),s.resize(function(){e()})},e.prototype.simpleMenu=function(){var e=this.config,n=this.element,t=i(window),s=n.find("ul"),o=n.find("li"),l=n.find(this.btnClassMenu),a=e.winMobWidth,c=0;t.width()<a&&s.hide(),l.click(function(){s.slideToggle(e.menuSpeedAnimate)}),o.on("click","a",function(n){n.preventDefault();var t=i(this).attr("href");c=i(t).offset().top-o.outerHeight(!0),i("body, html").animate({scrollTop:c},e.pageNavigationSpeedAnimate)}),t.resize(function(){t.width()>a?s.removeAttr("style"):s.hide()})},e.prototype.stickyMenu=function(){function e(){a.addClass(l),a.css({position:"fixed",top:"0",left:"0",width:"100%"})}function n(){a.removeClass(l),a.css({position:"relative",top:"",left:"",width:"100%"})}function t(){r=a.outerHeight(!0),f=d.offset().top}function s(){u=0===u?f:d.offset().top}var o=this.config,l=o.stickyMenuClassName,a=this.element,c=i(window),d=i("<div/>").insertAfter(a),r=0,f=0,u=0,h=0;t(),d.css("height",r).hide(),s(),c.resize(function(){t(),s()}),c.scroll(function(){h=c.scrollTop(),h>=u?(e(),d.show()):(n(),d.hide())})},e.prototype.scrollSpy=function(e){function n(i,e){var n=[];for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];e>=o&&n.push(o)}return 0===n.length?null:1===n.length?t.tools.getKeyByValue(i,n[0]):t.tools.getKeyByValue(i,t.tools.getMaxOfArray(n))}var t=this,s=i(window),o=i(t.trackedClassName),l={};o.each(function(i,e){l[e.id]=e.offsetTop});var a,c;s.scroll(function(){var i=s.scrollTop();a=n(l,i+e),a&&c!==a&&(c=a,t.changeMenuItem(a))})},e.prototype.slidingLine=function(){function e(){0===h.find(f.slidingLineClassName).length&&(a=i('<div class="'+u.slidingLineClassName+'">').appendTo(h))}function n(){c=h.find("li."+g),0!==c.length&&(d=c.outerWidth(),r=c.position().left)}function t(){a.css({position:"absolute","background-color":u.slidingLineColor,bottom:"0",height:u.slidingLineHeight}).animate({left:r,width:d},u.slidingLineSpeedAnimate)}function s(){p.width()>u.winMobWidth?a.show():a.hide()}function o(){n(),t()}function l(){e(),o(),s()}var a,c,d,r,f=this,u=this.config,h=this.element,p=i(window),g=u.slidingLineClassNameActive,m=h.find("li");if(f.changeMenuItem=function(e){m.removeClass("active"),m.each(function(){i(this).children("a").attr("href").slice(1)===e&&(i(this).addClass("active"),o())})},l(),i.isEmptyObject(f.Waypoint))f.scrollSpy(m.outerHeight(!0));else{var y=i(f.trackedClassName);y.waypoint({handler:function(){f.changeMenuItem(this.element.id)},offset:"30%"}),y.waypoint({handler:function(){f.changeMenuItem(this.element.id)},offset:-m.outerHeight(!0)})}p.resize(function(){l()})},i.fn.simpleMenu=function(i){var n=this.first();i=i||{};var t=window.Waypoint||{};return new e(n,i,t),n}}(jQuery);